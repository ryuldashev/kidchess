# KidChess ‚Äî –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è

> –®–∞—Ö–º–∞—Ç—ã –¥–ª—è –¥–µ—Ç–µ–π –æ—Ç 3 –ª–µ—Ç

## –û–±–∑–æ—Ä

KidChess ‚Äî –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –¥–µ—Ç–µ–π —à–∞—Ö–º–∞—Ç–∞–º —á–µ—Ä–µ–∑ —É–ø—Ä–æ—â—ë–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∫–∏ –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏—Ö –¥–æ—Å–∫–∞—Ö (3x3, 4x4) —Å –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–º —É—Å–ª–æ–∂–Ω–µ–Ω–∏–µ–º.

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è |
|-----------|------------|
| Frontend | Vanilla JS (–±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤) |
| –®–∞—Ö–º–∞—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞ | chess.js |
| –°—Ç–∏–ª–∏ | CSS (–±–µ–∑ –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤) |
| –®—Ä–∏—Ñ—Ç—ã | Noto Sans Symbols 2 (Google Fonts) ‚Äî –¥–ª—è —à–∞—Ö–º–∞—Ç–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ |
| –•–æ—Å—Ç–∏–Ω–≥ | Cloudflare Pages |
| –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ | Umami (self-hosted –Ω–∞ Fly.io) |

### –ü—Ä–∏–Ω—Ü–∏–ø "No Build"

–ü—Ä–æ–µ–∫—Ç –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–±–æ—Ä—â–∏–∫–∏ (Webpack, Vite –∏ —Ç.–¥.):
- –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ ‚Äî –ø—Ä–æ—Å—Ç–æ –æ—Ç–∫—Ä—ã—Ç—å index.html
- –ü—Ä–æ—Å—Ç–æ—Ç–∞ –¥–µ–ø–ª–æ—è ‚Äî git push ‚Üí Cloudflare Pages
- –ú–∏–Ω–∏–º—É–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
kidchess/
‚îú‚îÄ‚îÄ index.html          # –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (SPA)
‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îî‚îÄ‚îÄ style.css       # –í—Å–µ —Å—Ç–∏–ª–∏ (~950 —Å—Ç—Ä–æ–∫)
‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îú‚îÄ‚îÄ game.js         # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ (~1700 —Å—Ç—Ä–æ–∫)
‚îÇ   ‚îú‚îÄ‚îÄ puzzles.js      # –î–∞–Ω–Ω—ã–µ –ø–∞–∫–æ–≤ –∏ —É—Ä–æ–≤–Ω–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ ai.js           # Minimax AI –¥–ª—è —Ä–µ–∂–∏–º–∞ "–®–∞—Ö–º–∞—Ç—ã"
‚îÇ   ‚îú‚îÄ‚îÄ sounds.js       # –ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ chess.min.js    # –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ chess.js
‚îî‚îÄ‚îÄ assets/             # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ—Å—É—Ä—Å—ã
```

---

## –°–∏—Å—Ç–µ–º–∞ –ø–∞–∫–æ–≤

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–∫–∞

```javascript
{
    id: 'pack1',
    name: '–ü–µ—Ä–≤—ã–µ —à–∞–≥–∏',
    emoji: 'üéà',
    color: '#FF6B6B',
    isKidsMode: true,
    boardSize: 3,           // –†–∞–∑–º–µ—Ä –¥–æ—Å–∫–∏ (3x3, 4x4, 8x8)
    enemyMoveRate: 0,       // –ß–∞—Å—Ç–æ—Ç–∞ —Ö–æ–¥–æ–≤ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞
    fullWidth: true,        // –ó–∞–Ω–∏–º–∞–µ—Ç 2 –∫–æ–ª–æ–Ω–∫–∏ –≤ —Å–µ—Ç–∫–µ
    levels: [...]
}
```

### –ü–∞–∫–∏ –¥–ª—è –¥–µ—Ç–µ–π

| # | –ù–∞–∑–≤–∞–Ω–∏–µ | –î–æ—Å–∫–∞ | –ü—Ä–æ—Ç–∏–≤–Ω–∏–∫ —Ö–æ–¥–∏—Ç | –¶–µ–ª—å |
|---|----------|-------|-----------------|------|
| 1 | –ü–µ—Ä–≤—ã–µ —à–∞–≥–∏ | 3√ó3 | –ù–∏–∫–æ–≥–¥–∞ | –ù–∞—É—á–∏—Ç—å —Ö–æ–¥–∞–º —Ñ–∏–≥—É—Ä |
| 2 | –£—á–∏–º—Å—è –¥—É–º–∞—Ç—å | 4√ó4 | 1 –∏–∑ 3 —Ö–æ–¥–æ–≤ | –î–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ |
| 3 | –ü–æ—á—Ç–∏ –º–∞—Å—Ç–µ—Ä | 4√ó4 | 2 –∏–∑ 3 —Ö–æ–¥–æ–≤ | –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ |

### –õ–æ–≥–∏–∫–∞ enemyMoveRate

```javascript
// –í makeKidsMove():
if (enemyMoveRate > 0) {
    this.kidsEnemyMoveCounter++;
    // rate=1: –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫ —Ö–æ–¥–∏—Ç –∫–∞–∂–¥—ã–π 3-–π —Ö–æ–¥
    // rate=2: –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫ —Ö–æ–¥–∏—Ç 2 –∏–∑ 3 —Ö–æ–¥–æ–≤
    if (this.kidsEnemyMoveCounter % 3 < enemyMoveRate) {
        this.makeKidsEnemyMove();
    }
}
```

---

## –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥—Å–∫–∞–∑–æ–∫

### –§–æ—Ä–º–∞—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏

```javascript
{
    id: 'p1_001',
    fen: '8/8/8/8/8/7p/8/7R w - - 0 1',
    name: '–õ–∞–¥—å—è!',
    hint: ['‚ôñ', '‚Üë', '‚úï']  // [—Ñ–∏–≥—É—Ä–∞, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ, –¥–µ–π—Å—Ç–≤–∏–µ]
}
```

### Unicode —Å–∏–º–≤–æ–ª—ã

| –¢–∏–ø | –°–∏–º–≤–æ–ª—ã |
|-----|---------|
| –§–∏–≥—É—Ä—ã | ‚ôñ ‚ôó ‚ôò ‚ôï ‚ôî |
| –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è | ‚Üë ‚Üì ‚Üê ‚Üí ‚Üó ‚Üò ‚Üô ‚Üñ |
| –î–µ–π—Å—Ç–≤–∏—è | ‚úï (–≤–∑—è—Ç–∏–µ) |

### –í–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ

**–†–µ—á–µ–≤–æ–π –±–∞–±–ª (Telegram-style):**
- –ê–≤–∞—Ç–∞—Ä –ª–∏—Å—ë–Ω–∫–∞ ü¶ä –≤ –∫—Ä—É–≥–µ —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º
- –ë–µ–ª—ã–π –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π –±–∞–±–ª rgba(255,255,255,0.85)
- –¢—Ä–µ—É–≥–æ–ª—å–Ω—ã–π —Ö–≤–æ—Å—Ç–∏–∫ —á–µ—Ä–µ–∑ CSS border-trick
- –ü–ª–∞–≤–∞—é—â–∞—è –∞–Ω–∏–º–∞—Ü–∏—è floatDrift

```css
@keyframes floatDrift {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-6px); }
}
```

---

## –ü–æ–±–µ–¥–Ω—ã–π —ç–∫—Ä–∞–Ω

### –≠—Ñ—Ñ–µ–∫—Ç—ã –ø—Ä–∏ –≤—ã–∏–≥—Ä—ã—à–µ

1. **–ó–∞–≥–æ–ª–æ–≤–æ–∫:** "üéâ –ú–æ–ª–æ–¥–µ—Ü!"
2. **–ë–∞–±–ª:** 3 –ø–æ–±–µ–¥–Ω—ã—Ö —ç–º–æ–¥–∑–∏ (üéâ ‚≠ê üèÜ) —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π bounce
3. **–ö–æ–Ω—Ñ–µ—Ç—Ç–∏:** 30 —á–∞—Å—Ç–∏—Ü —Ä–∞–∑–Ω—ã—Ö —Ü–≤–µ—Ç–æ–≤ –Ω–∞ –¥–æ—Å–∫–µ

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ñ–µ—Ç—Ç–∏

```javascript
launchConfetti(container) {
    const colors = ['#FFD700', '#FF6B6B', '#4CAF50', '#2196F3', '#FF9800', '#E91E63'];
    for (let i = 0; i < 30; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        confetti.style.left = Math.random() * 100 + '%';
        confetti.style.animationDelay = Math.random() * 0.5 + 's';
        container.appendChild(confetti);
        setTimeout(() => confetti.remove(), 2000);
    }
}
```

---

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (Controls)

### –ö–Ω–æ–ø–∫–∏ –≤–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞

| –ü–æ–∑–∏—Ü–∏—è | –ò–∫–æ–Ω–∫–∞ | –î–µ–π—Å—Ç–≤–∏–µ |
|---------|--------|----------|
| –õ–µ–≤–∞—è | ‚Üê (SVG) | –ü—Ä–µ–¥—ã–¥—É—â–∞—è –∑–∞–¥–∞—á–∞ |
| –¶–µ–Ω—Ç—Ä | üëé | –ñ–∞–ª–æ–±–∞ –Ω–∞ –∑–∞–¥–∞—á—É |
| –ü—Ä–∞–≤–∞—è | ‚Üí (SVG) | –°–ª–µ–¥—É—é—â–∞—è –∑–∞–¥–∞—á–∞ |

### –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é

| –ò–∫–æ–Ω–∫–∞ | –î–µ–π—Å—Ç–≤–∏–µ |
|--------|----------|
| üîÑ | –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ |
| ‚¨ÖÔ∏è | –ü—Ä–µ–¥—ã–¥—É—â–∞—è |
| ‚û°Ô∏è | –°–ª–µ–¥—É—é—â–∞—è |
| üì¶ | –í—ã–±—Ä–∞—Ç—å –Ω–∞–±–æ—Ä |
| üóëÔ∏è | –°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å |

---

## –•—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

### localStorage

```javascript
// –ö–ª—é—á: 'kidchess_progress'
{
    kidsCompletedLevels: {
        pack1: ['p1_001', 'p1_002', ...],
        pack2: ['p2_001', ...],
        pack3: [...]
    },
    premiumEmojis: {
        premium1: 'ü¶ä',
        premium2: 'üêª'
    }
}
```

### –õ–æ–≥–∏–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏

–ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø–∞–∫–∞:
1. –ù–∞–π—Ç–∏ –ø–µ—Ä–≤—ã–π –Ω–µ–ø—Ä–æ–π–¥–µ–Ω–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å
2. –ï—Å–ª–∏ –≤—Å–µ –ø—Ä–æ–π–¥–µ–Ω—ã ‚Äî –Ω–∞—á–∞—Ç—å —Å –ø–µ—Ä–≤–æ–≥–æ

---

## CSS –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (CSS Custom Properties)

```css
:root {
    --bg-color: var(--theme-green);
    --board-light: #f0d9b5;
    --board-dark: #b58863;
    --highlight-selected: rgba(255, 255, 0, 0.5);
    --text-primary: rgba(255, 255, 255, 0.95);
    --cell-size: 50px;  /* –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –≤ JS */
}
```

### –¢–µ–º—ã

```css
body.theme-green { --bg-color: #4a7c59; }
body.theme-blue { --bg-color: #4a6c8c; }
body.theme-red { --bg-color: #7c4a5a; }
body.theme-kids { --bg-color: #c06090; }
```

### –ö–ª—é—á–µ–≤—ã–µ –∫–ª–∞—Å—Å—ã

| –ö–ª–∞—Å—Å | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-------|------------|
| .speech-mode | –†–µ–∂–∏–º —Ä–µ—á–µ–≤–æ–≥–æ –±–∞–±–ª–∞ |
| .win-mode | –ü–æ–±–µ–¥–Ω—ã–π —Ä–µ–∂–∏–º |
| .hint-symbol | –°–∏–º–≤–æ–ª –≤ –ø–æ–¥—Å–∫–∞–∑–∫–µ |
| .confetti | –ß–∞—Å—Ç–∏—Ü–∞ –∫–æ–Ω—Ñ–µ—Ç—Ç–∏ |

---

## –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å

### –†–∞—Å—á—ë—Ç —Ä–∞–∑–º–µ—Ä–∞ –¥–æ—Å–∫–∏

```javascript
calculateBoardBounds() {
    const pack = PUZZLE_PACKS[this.currentPack];
    if (pack && pack.isKidsMode && pack.boardSize) {
        // –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä –¥–ª—è –¥–µ—Ç—Å–∫–æ–≥–æ —Ä–µ–∂–∏–º–∞
        const size = pack.boardSize;
        this.boardBounds = {
            minCol: 8 - size,
            maxCol: 7,
            minRow: 8 - size,
            maxRow: 7
        };
    }
}
```

### Breakpoints

```css
@media (max-width: 400px) {
    .pack-card { padding: 16px 12px; }
    .control-btn { width: 50px; height: 50px; }
}
```

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### DOM –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏

–í–µ–∑–¥–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –º–µ—Ç–æ–¥—ã ‚Äî createElement –∏ textContent –≤–º–µ—Å—Ç–æ –ø—Ä—è–º–æ–π –≤—Å—Ç–∞–≤–∫–∏ HTML:

```javascript
// –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å–ø–æ—Å–æ–±:
while (element.firstChild) {
    element.removeChild(element.firstChild);
}
const span = document.createElement('span');
span.textContent = content;
element.appendChild(span);
```

---

## –ê–Ω–∞–ª–∏—Ç–∏–∫–∞

### –°–æ–±—ã—Ç–∏—è Umami

| –°–æ–±—ã—Ç–∏–µ | –î–∞–Ω–Ω—ã–µ |
|---------|--------|
| start_kids_mode | pack |
| kids_level_completed | pack, level |
| puzzle_skipped | pack, puzzle |
| error_reported | mode |

---

## –î–µ–ø–ª–æ–π

### Cloudflare Pages

```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π
git push origin main

# –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ Wrangler
npx wrangler pages deploy . --project-name=kidchess
```

### –î–æ–º–µ–Ω—ã

- Production: stickchess.surge.sh
- Legacy redirect: kidchess.pages.dev ‚Üí stickchess.surge.sh

---

## –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **–ë–æ–ª—å—à–µ –ø–∞–∫–æ–≤** ‚Äî —Ä–∞—Å—à–∏—Ä–∏—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç
2. **–ó–≤—É–∫–∏** ‚Äî –æ–∑–≤—É—á–∫–∞ –ø–æ–¥—Å–∫–∞–∑–æ–∫
3. **PWA** ‚Äî –æ—Ñ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º
4. **–†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å** ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π

---

## –ê–≤—Ç–æ—Ä—ã

- **Ruslan** ‚Äî Product –∏ Design
- **Claude Code** ‚Äî Development

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: –¥–µ–∫–∞–±—Ä—å 2024*
